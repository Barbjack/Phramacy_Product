<Page x:Class="Phramacy_Product.Views.Profile.UserProfile"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:Phramacy_Product.Views.Profile"
      mc:Ignorable="d" 
      d:DesignHeight="700" d:DesignWidth="1000"
      Title="UserProfile"
      Loaded="Page_Loaded">

    <Page.Resources>
        <!-- Style for navigation list items. This is now local to this page. -->
        <Style x:Key="NavItemStyle" TargetType="ListBoxItem">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="18"/>
            <Setter Property="Padding" Value="20,12"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Margin" Value="15,10"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ListBoxItem">
                        <Border x:Name="Border" 
                                Background="{TemplateBinding Background}"
                                CornerRadius="6"
                                Padding="4"
                                BorderThickness="0">
                            <ContentPresenter/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <!-- Hover effect -->
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="Orange"/>
                                <Setter Property="Foreground" Value="#333"/>
                            </Trigger>
                            <!-- Selected item style -->
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="AliceBlue"/>
                                <Setter TargetName="Border" Property="BorderBrush" Value="DarkSlateBlue"/>
                                <Setter TargetName="Border" Property="BorderThickness" Value="2,0,0,0"/>
                                <Setter Property="Foreground" Value="#4B89F2"/>
                                <Setter Property="FontWeight" Value="SemiBold"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Vector Icons (using Path geometry for clean, scalable icons) -->
        <ControlTemplate x:Key="UserIconTemplate">
            <Path Data="M12,2A10,10,0,0,0,2,12a10,10,0,0,0,10,10a10,10,0,0,0,10-10A10,10,0,0,0,12,2ZM12,6a3.5,3.5,0,1,1,-3.5,3.5A3.5,3.5,0,0,1,12,6Zm5,14a8,8,0,0,1-10,0a8,8,0,0,1,10,0Z" 
                      Fill="{Binding RelativeSource={RelativeSource AncestorType=ContentControl}, Path=Foreground}"/>
        </ControlTemplate>
        <ControlTemplate x:Key="FileIconTemplate">
            <Path Data="M14,2H6A2,2,0,0,0,4,4V20A2,2,0,0,0,6,22H18A2,2,0,0,0,20,20V8L14,2M12,18H8V16H12M16,14H8V12H16M17,9H12V4.5L17,9Z"
                  Fill="{Binding RelativeSource={RelativeSource AncestorType=ContentControl}, Path=Foreground}"/>
        </ControlTemplate>
        <ControlTemplate x:Key="SecurityIconTemplate">
            <Path Data="M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M12,14A2,2,0,0,1,10,12A2,2,0,0,1,12,10A2,2,0,0,1,14,12A2,2,0,0,1,12,14Z"
                  Fill="{Binding RelativeSource={RelativeSource AncestorType=ContentControl}, Path=Foreground}"/>
        </ControlTemplate>
        <ControlTemplate x:Key="StarIconTemplate">
            <Path Data="M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z"
                  Fill="{Binding RelativeSource={RelativeSource AncestorType=ContentControl}, Path=Foreground}"/>
        </ControlTemplate>
        <ControlTemplate x:Key="KeyIconTemplate">
            <Path Data="M12,13A3,3,0,0,0,9,16A3,3,0,0,0,12,19A3,3,0,0,0,15,16A3,3,0,0,0,12,13M12,21L14,20V22L16,21V23H12V21M17,16A5,5,0,0,0,12,11A5,5,0,0,0,7,16A5,5,0,0,0,12,21C12.35,21 12.69,20.97 13.02,20.91V23H15V21.41C15.69,21.16 16.32,20.73 16.89,20.18L21,24L22.41,22.59L17,17.17C17.73,16.52 18,15.77 18,15A5,5,0,0,0,17,16Z"
                  Fill="{Binding RelativeSource={RelativeSource AncestorType=ContentControl}, Path=Foreground}"/>
        </ControlTemplate>
        <ControlTemplate x:Key="StaffIconTemplate">
            <Path Data="M16,13C16,15.21 13.5,19 13.5,19L12,21V23L10.5,21V19C10.5,19 8,15.21 8,13A4,4,0,0,1,12,9A4,4,0,0,1,16,13Z"
                  Fill="{Binding RelativeSource={RelativeSource AncestorType=ContentControl}, Path=Foreground}"/>
        </ControlTemplate>
        <ControlTemplate x:Key="AddIconTemplate">
            <Path Data="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"
                  Fill="{Binding RelativeSource={RelativeSource AncestorType=ContentControl}, Path=Foreground}"/>
        </ControlTemplate>
        <ControlTemplate x:Key="SettingsIconTemplate">
            <Path Data="M12,15.5A3.5,3.5,0,0,1,8.5,12A3.5,3.5,0,0,1,12,8.5A3.5,3.5,0,0,1,15.5,12A3.5,3.5,0,0,1,12,15.5M19.4,12.93L21.46,12.28C21.63,12.23 21.73,12.06 21.7,11.88L20.8,9.15C20.78,9 20.61,8.9 20.44,8.91L18.4,9.65C17.91,9.2 17.41,8.76 16.88,8.34L17.2,6.17C17.21,6 17.15,5.82 16.98,5.74L14.77,4.52C14.6,4.44 14.4,4.49 14.3,4.66L13.1,6.86C12.59,6.72 12.07,6.66 11.53,6.66L10.3,4.5C10.21,4.33 10.02,4.28 9.85,4.36L7.6,5.55C7.43,5.63 7.37,5.81 7.39,6L7.7,8.23C7.15,8.68 6.6,9.12 6.09,9.6L4.05,8.9C3.88,8.85 3.7,8.95 3.6,9.12L2.7,11.87C2.67,12.06 2.77,12.23 2.94,12.28L4.99,12.94C5.03,13.06 5.06,13.17 5.11,13.29C4.66,13.78 4.22,14.3 3.8,14.83L2.7,15.15C2.53,15.2 2.45,15.39 2.48,15.56L3.38,18.33C3.4,18.5 3.58,18.6 3.75,18.59L5.78,17.89C6.33,18.34 6.87,18.78 7.4,19.2L7.09,21.36C7.07,21.54 7.12,21.72 7.29,21.81L9.5,23C9.67,23.08 9.87,23.04 9.97,22.86L11.16,20.65C11.69,20.79 12.21,20.85 12.75,20.85L14,22.95C14.1,23.12 14.29,23.17 14.46,23.09L16.7,21.9C16.87,21.81 16.93,21.63 16.9,21.46L16.6,19.24C17.15,18.79 17.7,18.35 18.2,17.85L20.24,18.56C20.4,18.6 20.58,18.5 20.67,18.33L21.57,15.58C21.6,15.41 21.5,15.22 21.33,15.18L19.29,14.42C19.34,14.3 19.37,14.18 19.4,14.07V12.93Z"
                  Fill="{Binding RelativeSource={RelativeSource AncestorType=ContentControl}, Path=Foreground}"/>
        </ControlTemplate>
    </Page.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <!-- Left sidebar column -->
            <ColumnDefinition Width="250"/>
            <!-- Main content column -->
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Profile Menu Sidebar (Left Column) -->
        <Grid Grid.Column="0" Background="#F1F3F6">
            <!--Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            < List of Navigation Items -->
            <StackPanel  Margin="0,23,0,0" Background="#0b05ad" >
                <Label Content="Profile Menu" FontSize="22" FontWeight="SemiBold"
                    Padding="15,25,20,10" VerticalAlignment="Center" Background="#0b05ad" Foreground="White"/>
                <ListBox x:Name="ProfileTabsListBox" 
                         Background="Transparent"
                         BorderThickness="0"
                         Foreground="White"
                         Margin="0,20,10,0"
                         SelectionChanged="ProfileTabsListBox_SelectionChanged"
                         >
                    <ListBoxItem Tag="About" Style="{StaticResource NavItemStyle}">
                        <StackPanel Orientation="Horizontal">
                            <ContentControl Template="{StaticResource UserIconTemplate}" Width="20" Height="20" Margin="0,0,10,0"/>
                            <TextBlock Text="About"/>
                        </StackPanel>
                    </ListBoxItem>
                    <ListBoxItem Tag="Documents" Style="{StaticResource NavItemStyle}">
                        <StackPanel Orientation="Horizontal">
                            <ContentControl Template="{StaticResource FileIconTemplate}" Width="20" Height="20" Margin="0,0,10,0"/>
                            <TextBlock Text="Documents"/>
                        </StackPanel>
                    </ListBoxItem>
                    <ListBoxItem Tag="Security" Style="{StaticResource NavItemStyle}">
                        <StackPanel Orientation="Horizontal">
                            <ContentControl Template="{StaticResource SecurityIconTemplate}" Width="20" Height="20" Margin="0,0,10,0"/>
                            <TextBlock Text="Security"/>
                        </StackPanel>
                    </ListBoxItem>
                    <ListBoxItem Tag="Plan" Style="{StaticResource NavItemStyle}">
                        <StackPanel Orientation="Horizontal">
                            <ContentControl Template="{StaticResource StarIconTemplate}" Width="20" Height="20" Margin="0,0,10,0"/>
                            <TextBlock Text="Plan"/>
                        </StackPanel>
                    </ListBoxItem>
                    <ListBoxItem Tag="Password" Style="{StaticResource NavItemStyle}">
                        <StackPanel Orientation="Horizontal">
                            <ContentControl Template="{StaticResource KeyIconTemplate}" Width="20" Height="20" Margin="0,0,10,0"/>
                            <TextBlock Text="Password"/>
                        </StackPanel>
                    </ListBoxItem>
                    <ListBoxItem Tag="Staff" Style="{StaticResource NavItemStyle}">
                        <StackPanel Orientation="Horizontal">
                            <ContentControl Template="{StaticResource StaffIconTemplate}" Width="20" Height="20" Margin="0,0,10,0"/>
                            <TextBlock Text="Staff"/>
                        </StackPanel>
                    </ListBoxItem>
                    <ListBoxItem Tag="Integrations" Style="{StaticResource NavItemStyle}">
                        <StackPanel Orientation="Horizontal">
                            <ContentControl Template="{StaticResource AddIconTemplate}" Width="20" Height="20" Margin="0,0,10,0"/>
                            <TextBlock Text="Integrations"/>
                        </StackPanel>
                    </ListBoxItem>
                    <ListBoxItem Tag="Settings" Style="{StaticResource NavItemStyle}">
                        <StackPanel Orientation="Horizontal">
                            <ContentControl Template="{StaticResource SettingsIconTemplate}" Width="20" Height="20" Margin="0,0,10,0"/>
                            <TextBlock Text="Settings"/>
                        </StackPanel>
                    </ListBoxItem>
                </ListBox>
            </StackPanel>
        </Grid>

        <!-- Main Content Area (Right Column) -->
        <Grid Grid.Column="1" Margin="20,25,20,20">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <Border Background="White" CornerRadius="8" BorderBrush="#E0E0E0" BorderThickness="1">

                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <!-- Content Header -->
                        <Label x:Name="ContentHeader" Grid.Row="0" Content="About" FontWeight="SemiBold" FontSize="24" 
                          Margin="15,0" Padding="20,15,20,10"  Foreground="#222"/>

                        <!-- Content for selected tab -->
                        <ContentControl Grid.Row="1" x:Name="TabContentControl" Margin="20"/>
                    </Grid>
                </Border>
            </ScrollViewer>
        </Grid>
    </Grid>
</Page>
